optimizer_type = "adafactor"
optimizer_args = [ "scale_parameter=False", "relative_step=False", "warmup_init=False" ]
lr_scheduler = "constant_with_warmup"
lr_warmup_steps = 100
learning_rate = 4e-7 # SDXL original learning rate


python sdxl_train_network.py --unet_lr=0.0004 --text_encoder_lr=0.00001 --network_module='networks.lora' --network_dim=128 --network_dropout=0.1 --pretrained_model_name_or_path="stabilityai/stable-diffusion-xl-base-1.0" --resolution=1024  --caption_extension='.txt' --train_data_dir='/home/ec2-user/kohya/sd-scripts/newstuff'




accelerate launch --num_cpu_threads_per_process 1 sdxl_train_network.py --pretrained_model_name_or_path="stabilityai/stable-diffusion-xl-base-1.0" --dataset_config=newstuff/pics/dataset_config.toml --output_dir='test_output' --output_name='test_output' --save_model_as=safetensors --prior_loss_weight=1.0 --max_train_steps=400 --learning_rate=1e-4 --optimizer_type="AdamW8bit" --xformers --mixed_precision="fp16" --cache_latents --gradient_checkpointing --save_every_n_epochs=1 --network_module=networks.lora